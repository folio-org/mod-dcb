{
  "mappings": [
    {
      "scenarioName": "InstitutionLocationUnitsAPI",
      "requiredScenarioState": "Started",
      "request": {
        "method": "GET",
        "urlPath": "/location-units/institutions",
        "queryParameters": {
          "query": {
            "equalTo": "name==\"DCB\""
          }
        },
        "headers": {
          "x-okapi-tenant": {
            "equalTo": "test_tenant"
          }
        }
      },
      "response": {
        "status": 200,
        "jsonBody": {
          "locinsts": [],
          "totalRecords": 0
        },
        "headers": {
          "Content-Type": "application/json"
        }
      }
    },
    {
      "scenarioName": "InstitutionLocationUnitsAPI",
      "requiredScenarioState": "Started",
      "newScenarioState": "AfterPostCall",
      "request": {
        "method": "POST",
        "urlPath": "/location-units/institutions",
        "bodyPatterns": [
          {
            "equalToJson": {
              "id": "9d1b77e5-f02e-4b7f-b296-3f2042ddac54",
              "name": "DCB",
              "code": "000",
              "isShadow": false
            }
          }
        ],
        "headers": {
          "x-okapi-tenant": {
            "equalTo": "test_tenant"
          }
        }
      },
      "response": {
        "status": 201,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "id": "9d1b77e5-f02e-4b7f-b296-3f2042ddac54",
          "name": "DCB",
          "code": "000",
          "isShadow": false,
          "metadata": {
            "createdDate": "2023-10-27T11:14:15.395+00:00",
            "createdByUserId": "ec3caecb-d565-530c-937b-65a9c4ab371b",
            "updatedDate": "2023-10-27T11:14:15.395+00:00",
            "updatedByUserId": "ec3caecb-d565-530c-937b-65a9c4ab371b"
          }
        }
      }
    },
    {
      "scenarioName": "InstitutionLocationUnitsAPI",
      "requiredScenarioState": "AfterPostCall",
      "request": {
        "method": "GET",
        "urlPath": "/location-units/institutions",
        "queryParameters": {
          "query": {
            "equalTo": "name==\"DCB\""
          }
        },
        "headers": {
          "x-okapi-tenant": {
            "equalTo": "test_tenant"
          }
        }
      },
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "jsonBody": {
          "locinsts": [
            {
              "id": "9d1b77e5-f02e-4b7f-b296-3f2042ddac54",
              "name": "DCB",
              "code": "000",
              "isShadow": false,
              "metadata": {
                "createdDate": "2023-10-27T11:14:15.395+00:00",
                "createdByUserId": "ec3caecb-d565-530c-937b-65a9c4ab371b",
                "updatedDate": "2023-10-27T11:14:15.395+00:00",
                "updatedByUserId": "ec3caecb-d565-530c-937b-65a9c4ab371b"
              }
            }
          ],
          "totalRecords": 1
        }
      }
    }
  ]
}
