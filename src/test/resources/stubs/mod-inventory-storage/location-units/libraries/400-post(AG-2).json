{
  "request": {
    "method": "POST",
    "urlPath": "/location-units/libraries",
    "bodyPatterns": [
      { "matchesJsonPath": "$[?(@.code == 'AG-002')]" },
      { "matchesJsonPath": "$[?(@.name == 'Agency-Two')]" },
      { "matchesJsonPath": "$[?(@.isShadow == true)]" }
    ],
    "headers": {
      "x-okapi-tenant": {
        "equalTo": "testtenant"
      }
    }
  },
  "response": {
    "status": 400,
    "transformers": [ "response-template" ],
    "headers": {
      "Content-Type": "application/json"
    },
    "jsonBody": {
      "errors": [
        {
          "message": "Library with code AG-004 already exists",
          "parameters": [
            {
              "key": "code",
              "value": "AG-004"
            }
          ]
        }
      ]
    }
  }
}
